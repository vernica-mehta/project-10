Realised a couple of issues with grey model:

- kappa function defined in existing opac code done from only hydrogen but planet atmosphere mostly helium
  - need to redefine opacity function from first principle i.e. abundance * column density of species
- picket fence model for non-grey atmosphere
  - different way of defining T_Tau, much easier and computationally more viable than defining each individual absorption line
  - will also come up with opacities for non-grey model

For Tuesday, we have divided these two tasks up between the three of us, to try to get closer to a finished grey model and then make some steps towards the non-grey model.


Assigned fixing opacities within the kappa_cont function: 

```python 
def kappa_cont(nu, log10P, T):

"""Compute the continuum opacity in cgs units as a function of

log pressure (CGS) and K.

Parameters:

nu: numpy array

log10P: float

T: float

"""

T_val = T.to_value(u.K) if hasattr(T, 'unit') else T

nHI = 10**(log10ns[0](log10P, T_val, grid=False))

nHII = 10**(log10ns[1](log10P, T_val, grid=False))

nHm = 10**(log10ns[2](log10P, T_val, grid=False))

ne = 10**(log10ne(log10P, T_val, grid=False))

kappa = nHI * Hbf(nu, T_val) + nHII * ne * Hff(nu, T_val) + \

nHm * Hmbf(nu, T_val) + nHI * ne * Hmff(nu, T_val)

return kappa

```

The reason why we need to rethink how this is programed is because it only considers Hydrogen. 

And according to [[@opikJupiterChemicalComposition1962]] helium also plays a big role in gas giant atmospheres. Although good to note this is due detectors at the time not being good enough to see hydrogen lines. 

